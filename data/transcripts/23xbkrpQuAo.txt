 The following content is provided under a Creative Commons license. Your support will help MIT OpenCourseWare continue to offer high quality educational resources for free. To make a donation or to view additional materials from hundreds of MIT courses, visit MIT OpenCourseWare at ocw.mit.edu. OK, so we are going to continue looking at what happens when we have non-independent variables. I am afraid we don't take deliveries during class time. Sorry. OK, please take a seat. Thanks. No, thanks. OK. OK, so Jason, you please claim your package at the end of lecture. OK, so last time we saw how to use multipliers to find the minimum or maximum of a function of several variables when the variables are not independent. And today we are going to try to figure out more about relations between variables and how to handle functions that depend on several variables when they are related. So, just to give you an example, in physics very often you have functions that depend on pressure, volume and temperature where pressure, volume and temperature are actually not independent, but they are related, say, by PV equals nRT. So, of course, then you can substitute and express the function in terms of two of them only. But, very often it's convenient to keep all three. But then we have to figure out what are the rates of change of P and V with respect to T, with respect to each other, the rate of change of F with respect to these variables, and so on. So, we have to figure out what we mean by partial derivatives again. So, OK, I mean marginally, let's say just for the sake of notation, I'm going to think of a function of three variables, x, y, z, where the variables are related by some equation that I will put in the form g of x, y, z equals some constant. OK, so that's the same kind of setup as we had last time, except now we are not just looking for minima and maxima. We are trying to understand partial derivatives. So, the first observation is that if x, y and z are related, then that means, in principle, we could solve for one of them and express it as a function of the two others. So, in particular, can we understand, even without solving, maybe we cannot solve, can we understand how the variables are related to each other? So, for example, z, you can think of z as a function of x and y. So, we can ask ourselves what are the rates of change of z with respect to x keeping y constant, or with respect to y keeping x constant? And, of course, if we can solve, then we know a formula for this, and then we can compute these guys. But, what if we can't solve? So, how do we find these things without solving? Well, so let's do an example. Let's say that my relation is x squared yz plus z cubed equals eight. And, let's say that I'm looking near the point x, y, z equals two, three, one. So, let me check. Two squared plus three times one plus one cubed is, indeed, eight. OK, but now, if I change x and y a little bit, how does z change? Well, of course, I could solve for z in here. It's a cubic equation. There is actually a formula. But, that formula is quite complicated. We actually don't want to do that. There is an easier way. So, how can we do it? Well, let's look at the differential of this constraint quantity. OK, so if we call this g, let's look at dg. So, well, what's the differential of this? So, differential of x squared is 2x dx plus, I think, there's a z dy, there's a y dz, and there's also a 3z squared dz. You can get this either by implicit differentiation of the product rule, or you can get this just by putting here, here, and here the partial derivatives of this with respect to x, y, and z. Any questions about how I got this? No? OK, so now, what do I do with this? Well, this represents, well, variations of g. But, well, I've set this thing equal to eight. And, eight is a constant, so it doesn't change. So, in fact, well, we can set this to zero because, well, if x equals g, then g equals eight is constant. That means we set dg equal to zero. OK, so now let's just plug in some values at this point. That tells us, well, what's the relation? So, if x equals two, that's 4dx, plus z is one, so dy, plus y plus 3z squared should be 6dz equals zero. And now, this equation here tells us about a relation between the changes in x, y, and z near that point. It tells us how, if you change x and y, well, how z will change. It tells you, actually, anything you might want to know about the relations between these variables. So, for example, you can move dz to that side and then express dz in terms of dx and dy. Or, you can move dy to that side and express dy in terms of dx and dz, and so on. It tells you, at the level of the derivatives, how each of the variables depends on the two others. OK, so just to clarify this, if we want to view z as a function of x and y, then what we will do is we'll just move the dz's to the other side, and it will tell us dz equals minus one over six times 4dx plus dy. And so, that should tell you that partial z over partial x is minus four over six. Well, that's minus two-thirds. And, partial z over partial y is going to be minus one-sixth. OK, another way to think about this, when we compute partial z over partial x, that means that actually we keep y constant. OK, let me actually add some subtitles here. So, here that means we keep y constant. And so, if we keep y constant, another way to think about it is we set dy to zero. We set dy equals zero. So, if we do that, we have dz equals negative four-sixth dx. That tells us the rate of change of z with respect to x. Here, we set x constant. So, that means we set dx equal to zero. And, if we set dx equal to zero, then we have dz equals negative one-sixth of dy. That tells us the rate of change of z with respect to y. OK, any questions about that? No? What? Yes? Yes, OK, let me explain that again. So, we found an expression for dz in terms of dx and dy. That means that this thing is the total differential of z viewed as a function of x and y. OK, and so the coefficients of dx and dy are the partials. Another way to think about it, if you want to know partial z, partial x, it means you set y to be constant. Setting y to be constant means that you will put zero in the place of dy. So, you'll be left with dz equals minus four-sixth dx. And, that will give you the rate of change of z with respect to x when you keep y constant. OK, so various ways to think about this, but hopefully it makes sense. OK, so how do we think about this in general? Well, if we know that g of x, y, z equals constant, then dg, which is g sub x dx plus g sub y dy plus g sub z dz should be set equal to zero. And now, we can solve for whichever variable we want to express in terms of the others. So, for example, if we care about z as a function of x and y, we'll get that dz is negative g sub x over g sub z dx minus g sub z. And so, if we want partial z over partial x, well, so one way is just to say that's going to be the coefficient of dx in here, or just to write down the other way, we are setting y equals zero. So, that means we set dy equal to zero. OK, and then we get dz equals negative g sub x over g sub z dx. So, that means partial z over partial x is minus gx over gz. And see, that's a very counterintuitive formula because you have this minus sign that you somehow probably couldn't have seen come if you hadn't actually derived things this way. I mean, it's pretty surprising to see that minus sign come out of nowhere the first time you see it. OK, so now we know how to find the rates of change of constraint variables with respect to each other. You can apply the same to find, if you want, partial x, partial y, or any of them, you can do it. Any questions so far? No? OK, so before we proceed further, I should probably expose some problem with the notations that we have so far. So, let me try to get you a bit confused. OK, so let's take a very simple example. Let's say I have a function, f of x, y equals x plus y. OK, so far, it doesn't sound very confusing. And, then I can write partial f over partial x. And, I think you all know how to compute it. It's going to be just one. OK, so far, we are pretty happy. Now, let's do a change of variables. Let's set x equals u, and y equals u plus v. OK, it's not a very complicated problem, but let's do it. Then, f in terms of u and v, well, so f, remember, was x plus y becomes u plus u plus v. That's twice u plus v. What's partial f over partial u? It's two. So, x and u are the same thing. Partial f over partial x, and partial f over partial u, well, unless you believe that one equals two, they are really not the same thing. OK, so that's an interesting, slightly strange phenomenon. x equals u, but partial f over partial x is not the same as partial f over partial u. So, how do we get rid of this contradiction? Well, we have to think a bit more about what these notations mean, OK? So, when we write partial f over partial x, it means that we are varying y constant. When we write partial f over partial u, it means we are varying u, keeping v constant. So, varying u or varying x is the same thing. But, keeping v constant or keeping y constant are not the same thing. If I keep y constant, then when I change x, so when I change u, then v will also have to change so that their sum stays the same. Or, if you prefer the other way around, when I do this one, I keep v constant. If I keep v constant and I change u, then y will change. It won't be constant. So, that means, well, life looked quite nice and easy with these notations. But, what's dangerous about them is they're not making explicit what it is exactly that we are keeping constant. OK, so just to write things down, so here we change u and x. They are the same thing, but we keep y constant. While here, we change u, which is still the same thing as x, but what we keep constant is v, or in terms of x and y, that's y minus x constant. And, that's why they're not the same. So, whenever there's any risk of confusion, OK, so not in the cases that we had before because, you know, in what we've done until now, we didn't really have any problem. But, in a situation like this, to clarify things, we'll actually say explicitly what it is that we want to keep constant. OK, so what's going to be our new notation? Well, so, it's not particularly pleasant because it uses now a subscript not to indicate what you're differentiating, but rather what you're holding constant. So, that's quite a conflict of notation with what we had before. I think I can safely blame it on physicists or chemists. So, OK, so this one means we have partial f over partial x and partial f over partial u with v held constant similarly. OK, so now what happens is we no longer have any contradiction. We have partial f over partial x with y constant is different from partial f over partial x with v constant, which is the same as partial f over partial u with v constant. OK, so this guy is one, and these guys are two. So, now we can safely use the fact that x equals u if we are keeping track of what is actually held constant. OK, so now that's going to be particularly important when we have variables that are related because let's say now that I have a function that depends on x, y, and z, but x, y, and z are related. Then, it means that if I look at, say, x and y as my independent variables, and z as a function of x and y, then it means that when I do partial, say, with respect to x, I will hold y constant, but I will let z vary as a function of x and y. Or, I could do it the other way around. I could vary x, keep z constant, and let y be a function of x and z. And so, I will need to use this kind of notation to indicate which one I mean. OK, any questions? No? All right, so let's try to do an example where we have a function that depends on variables that are related. OK, so I don't want to do one with PV equals nRT because probably, I mean, if you've seen it, then you've seen too much of it. And, if you haven't seen it, then maybe it's not the best example. So, let's do a geometric example. OK, so let's look at the area of a triangle. So, let's say I have a triangle, and my variables will be the sides, a and b, and the angle here, theta. OK, so what's the area of this triangle? Well, it's base times height times two. So, it's one half of the base is a, and the height is b sine theta. OK, so that's a function of a, b, and theta. Now, let's say, actually, there's a relation between a, b, and theta that I didn't tell you about. Namely, actually, I want to assume that it's a right triangle. OK, so let's now assume it's a right triangle with, let's say, the hypotenuse is b. So, we have a right angle here, actually. So, a is here, b is here, theta is here. So, saying that it's a right triangle, we can do the same thing as saying that a equals b cosine theta. OK, so that's our constraint. That's the relation between a, b, and theta. And, this is a function of a, b, and theta. And, let's say that we want to understand how the area depends on theta. OK, what's the rate of change of the area of this triangle with respect to theta? So, I claim there's various answers. I can think of at least three possible answers. So, what can we possibly mean by the rate of change of a with respect to theta? So, these are all things that we might want to call partial a, partial theta. But, of course, we'll have to actually use these to distinguish them. So, the first way that we actually already know about is if we just forget about the fact that the variables are related. OK, so if we just think of little a, b, and theta as independent variables, and we just change theta keeping a and b constant. So, that's exactly what we meant by partial a, partial theta, right? We are not putting any constraints. So, just to use some new notation, that would be the rate of change of a with respect to theta keeping a and b fixed at the same time. Of course, if we are keeping a and b fixed, and we are changing theta, it means we completely ignore this property of being a right triangle. So, in fact, it corresponds to changing the area by changing the angle, keeping this length fixed. And, of course, we lose the right angle. When we rotate this side here, then the angle doesn't stay a right angle. And, that's when we know how to compute, right, because it's the one we've been computing all along. So, that means we keep a and b constant. And then, so let's see. What's the derivative of a with respect to theta? I guess it's one half a b cosine theta. OK, that one we know. Any questions? No? OK, the two other guys will be more interesting. So far, I'm not really doing anything with my constraint. Let's say that, actually, I do want to keep a right angle. Then, when I change theta, there's two options. One is I keep a constant. And then, of course, b will have to change because if this width stays the same, then when I change theta, the height increases, and then this side length increases. The other option is I change the angle, keeping b constant. So, actually, this side stays the same length, but then a has to become a bit shorter. And, of course, the area will change in different ways depending on what I do. So, that's why I said we have three different answers. The next one is keep, I forgot which one I said first. Let's say keep a constant. And, that means that b will change. b is going to be some function of a and theta. Well, in fact, here we know what the function of a is because we can solve the constraint. Namely, b is a over cosine theta. But, we don't actually need to know that so that the right angle, so that we keep a right angle. And so, the name we will have for this is partial a over partial theta with a held constant. OK, and the fact that I'm not putting b in my subscript there means that actually b will be a dependent variable. It changes in whatever way it has to change so that when theta changes, a stays the same while b changes so that we keep a right triangle. And, the third guy is the one where we actually keep b constant. And now, a, we think of a as a function of b and theta, and it changes so that we keep a right angle. OK, so actually, as a function of b and theta, it's given over there, a equals b cosine theta. And so, this guy is called partial a over partial theta with b held constant. OK, so we've just defined them. We don't know yet how to compute these things. That's what we're going to do now. But, is the definition, and what these things mean, is that clear to everyone? Yes, OK. Yes? OK, so the second answer, again, so one way to ask ourselves how does the area depend on theta is to say, well, we'll actually look at the area of a right triangle as a function of a and theta only by solving for b. And then, we'll change theta, keep a constant, and ask how does the area change? So, when we do that, when we change theta and keep a the same, then b has to change so that it stays a right triangle, right, so that this relation still holds. That requires us to change b. So, when we write partial a over partial theta with a constant, it means that actually b will be the dependent variable. It depends on a and theta. And so, the area depends on theta not only because theta is in the formula, but also because b changes and b is in the formula. Yes? No, no, we don't keep theta constant. We vary theta. The goal is to see how things change when I change theta by a little bit. OK, so if I change theta a little bit in this one, if I change theta a little bit and I keep a the same, then b has to change also in some way so that it stays a right triangle. And then, because theta and b change, that causes the area to change. OK, so maybe I should explain this a little bit. So, theta changes. a is constant. But, we have a constraint, a equals b cosine theta. That means that b changes. And then, the question is, how does a change? Well, it will change in part because theta changes, and in part because b changes. But, we want to know how it depends on theta in this situation. Yes? That's a very good question. So, what about I don't keep a and b constant? Well, then there's too many choices. So, I have to decide actually how I'm going to change things. See, if I just say I have this relation, that means I have two independent variables left, whichever two of the three I want. But, I still have to specify two of them to say exactly which triangle I mean. So, I cannot ask myself just how will it change if I change theta and do random things with a and b. It depends what I do with a and b. And, of course, I could choose to change them simultaneously. But then, I have to specify how exactly I'm going to do that. Ah, yes. If you wanted to, indeed, we could also change things in such a way that the third side remains constant. And, that would be yet a different way to attack the problem. I mean, we don't have a good notation for this here because we didn't give it a name. But, yeah, I mean, we could. You know, we could call this guy c, and then we'd have a different formula, and so on. So, I mean, I'm not looking at it for simplicity, but you could have many more. I mean, in general, you will want, you know, once you have a set of nice natural variables, you will want to look mostly at situations where one of the variable changes, some of them are held fixed, and then some dependent variable does whatever it must so that the constraint keeps holding. OK, so let's try to compute one of them. Let's say I decide that we'll compute this one. OK, let's see how we can compute partial A partial theta with A held fixed. OK, so let's try to compute partial A partial theta with A held constant. So, let's see three different ways of doing that. So, let me start with method one. OK, it's not a real method. That's why I'm not giving it a positive number. So, that one is just we solve for B, and we remove B from the formulas. OK, so here it works well because we know how to solve for B. But, I'm not considering this to be a real method because, in general, we don't know how to do that. I mean, if we use, you know, in the beginning I mentioned this relation that was an equation of degree three, you don't really want to solve your equation for the dependent variable usually. Here we can. So, solve for B and substitute. So, how do we do that? Well, the constraint is A equals B cosine theta. That means B is A over cosine theta. Some of you know that as A second theta. That's the same. And now, if we express the area of A and theta only, A is one half of AB sine theta is now one half of A squared sine theta over cosine theta, or, if you prefer, one half of A squared tangent theta. Well, now that it's only a function of A and theta, I know what it means to take the partial derivative with respect to theta, keeping A constant. I know how to do it. So, partial A over partial theta with A held constant. Well, if A is a constant, then I get this one half A squared coming out times, what's the derivative of tangent? Second squared. Very good. If you're European and you've never heard of secant, that's one over cosine. And, if you know the derivative as one plus tangent squared, that's the same thing, and it's also correct. OK, so that's one way of doing it. But, as I've already said, it doesn't get us very far if we don't know how to solve for B. I mean, we really used the fact that we can solve for B and get rid of it. So, there's two systematic methods. And, let's say the basic rule is that you should give both of them a chance. You should see which one you prefer, and you should be able to use one or the other on the exam. OK, most likely, you will actually have a choice between one or the other. It will be up to you to decide which one you want to use. But, you cannot use solving and substitution. That's not fair. OK, so the first one is to use differentials. By the way, in the notes, they are called also method one and method two. I'm not promising that I have the same one. I mean, I might have one and two switched. It doesn't really matter. So, how do we do things using differentials? Well, first, we know that we want to keep A fixed. And, that means that we'll set dA equal to zero. The second thing that we want to do is we want to look at the constraint. The constraint is A equals B cosine theta. And, we want to differentiate that. Well, to differentiate the left-hand side, you get dA. And, to differentiate the right-hand side as a function of B and theta, you should get, well, how many dBs? Well, that's the rate of change with respect to B. That's cosine theta dB minus B sine theta d theta. That's the product rule applied to B times cosine theta. So, well, now, if we have a constraint that's relating dA, dB, and d theta, OK, so that's actually what we did, right? That's the same sort of thing as what we did at the beginning when we related dx, dy, and dz. That's really the same thing, except now our variables are A, B, and theta. Now, we know that also we are keeping A fixed. So, actually, we set this equal to zero. So, we have zero equals dA equals cosine theta dB minus B sine theta d theta. That means that, actually, we know how to solve this problem. OK, so cosine theta dB equals B sine theta d theta, or dB is B tangent theta d theta. OK, so, in fact, what we found, if you want, is the rate of change of B with respect to theta. Why do we care? Well, we care because, let's look now at dA, the function that we want to look at. OK, so the function is A equals one half AB sine theta. Well, then dA, so we have to use the product rule carefully, or we use the partials. So, the coefficient of d little a will be partial with little a. That's one half B sine theta dA plus coefficient of dB will be one half A sine theta dB plus coefficient of d theta will be one half AB cosine theta d theta. OK, but now, what do I do with it? Well, first, let's say A is constant, so dA is zero. Second, well, actually, we don't like B at all. Right, we want to view A as a function of theta. So, well, maybe we actually want to use this formula for dB that we found in here. OK, and then we'll be left only with d thetas, which is what we want. So, if we plug this one into that one, we get dA equals one half A sine theta times B tangent theta d theta plus one half AB cosine theta d theta. And, if we collect these things together, we get one half of AB times sine theta times tangent theta plus cosine theta d theta. And, if you know your trig, then you will see that this is sine squared over cosine plus cosine squared over cosine. That's the same as second theta. So, now you have expressed dA as something times d theta. Well, that coefficient is the rate of change of A with respect to theta with the understanding that we are keeping A fixed and letting B vary as a dependent variable. I have not enough space, sorry. OK, in case it's clearer for you, let's think about it backwards. So, we wanted to find how A changes. To find how A changes, we write dA. But now, this tells us how A depends on little a, little b, and theta. Well, we know, actually, we want to keep little a constant, so we set this to be zero. Theta, well, we are very happy because we want to express things in terms of theta. dB, we want to get rid of. How do we get rid of dB? Well, we do that by figuring out how B depends on theta when A is fixed. And, we do that by differentiating the constraint equation and setting dA equal to zero. OK, so, I guess, to summarize the method, we wrote dA in terms of dA, dB, d theta. Then, we say that A is constant, means we set dA equals zero. And, the third thing is that we differentiate the constraint. And, we can solve for dB in terms of d theta. And then, we plug into dA, and we get the answer. OK, whoops. OK, here's another method to do the same thing differently. It's to use the chain rule. So, we can use the chain rule with dependent variables. OK, so what does the chain rule tell us? The chain rule tells us, so we will want to differentiate the formula for A with respect to theta holding A constant. So, I claim, well, what does the chain rule tell us? It tells us that, well, when we change things, A changes because of the changes in the variables. So, part of it is that A depends on theta, and theta changes. How fast does theta change? Well, you could call that the rate of change of theta with respect to theta with A constant. But, of course, how fast does theta depend on itself? The answer is one. So, that's pretty easy. Plus, then we have this, the partial derivative, the formal partial derivative of A with respect to little a times the rate of change of A in our situation. Well, how does little a change if A is constant? Well, it doesn't change. And then, there's A sub little b, the formal partial derivative times, sorry, the rate of change of b. OK, and how do we find this one? Well, here we have to use the constraint. OK, and we can find this one from the constraint, as we've seen at the beginning, either by differentiating the constraint or by using the chain rule on the constraint. So, of course, the calculations are exactly the same. See, this is the same formula as the one over there, just dividing everything by partial theta and with subscripts little a. But, if it's easier for you to think about it this way, then that's also valid. OK, so tomorrow we are going to review for the test. So, I'm going to tell you a bit more about this also as we go over one practice problem on that.