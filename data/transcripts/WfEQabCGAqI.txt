 The following content is provided under a Creative Commons license. Your support will help MIT OpenCourseWare continue to offer high quality educational resources for free. To make a donation or to view additional materials from hundreds of MIT courses, visit MIT OpenCourseWare at ocw.mit.edu. Yesterday we have learned about flux and we have seen the first examples of how to set up and compute integrals for flux of a vector field for a surface. Remember the flux of a vector field F for a surface S is defined by taking the double integral on the surface of F dot n dS where n is the unit normal to the surface and dS is the area element on the surface. As we have seen, for various surfaces we have various formulas telling us what the normal vector is and what the area element becomes. For example, on spheres we typically integrate with respect to phi theta the latitude and longitude angles. On a horizontal plane we would just end up integrating dx dy and so on. At the end of the lecture we saw a formula. And a lot of you asked me how did we get it. Well, we didn't get it yet. We are going to try to explain where it comes from and why it works. The case we want to look at is the graph of a function. It is given by z equals some function in terms of x and y. Our surface is out here. z is a function of x and y. And x and y will range over some domain in the xy plane, namely the region that is the shadow of the surface on the xy plane. I said that we will have a formula for n ds which will end up being plus minus, minus f sub x minus f sub y one dx dy so that we will set up and evaluate the integral in terms of x and y. Replacing every time we see z we will replace it by f of xy, whatever the formula for f of xy is. By the way, if we look at a very easy case where this is just a horizontal plane, so z equals constant, the function is just a constant, well, the partial derivatives become just zero. You get zero, zero, one dx dy. That is what you would expect for a horizontal plane just from common sense. This is more interesting, of course, if a function is more interesting. How do we get that? Where does this come from? We need to figure out for a small piece of our surface what will be n delta S if you want. Let's say that we take a small rectangle in here corresponding to the sides delta x and delta y. And we look at the piece of surface that is above that. Well, the question we have now is what is the area of this little piece of surface and what is its normal vector? Observe this little piece up here. If it is small enough it will look like a parallelogram. It might be slightly curvy, but roughly it looks like a parallelogram in space. And so we have seen how to find the area of a parallelogram in space using cross product. If we can figure out what are the vectors for this side and that side, then taking the cross product will give us, and taking the magnitude of the cross product will give us the area. Moreover, the cross product also gives us the normal direction. In fact, the cross product gives us two in one. It gives us the normal direction and the area element. And that is why I said that we will have an easy formula for N dS while N and dS taken separately are more complicated because you would have to actually take the length of a direction of this guy. Let's carry out this problem. Let's say I am going to look at a small piece of the xy plane. Here I have delta x, here I have delta y, and I am starting at some point xy. Now, above that I will have a parallelogram on my surface. I need to figure out this point here, the point where I start. I know what it is. It is just x, y, and z is f of x, y. Now, what I want to find actually is what are these two vectors, let's call them u and v that correspond to moving a bit in the x direction or in the y direction. And then u cross v will be, well, in terms of the magnitude of this guy will just be the little piece of surface area delta S. And, in terms of direction, it will be normal to the surface. Actually, I will get just delta S times my normal vector. Well, up to sign because depending on whether I do u cross v or v cross u, I might get the normal vector in the direction I want or in the direction I want. But we will take care of that later. Up to sign. OK, so let's find u and v. Actually, in case you have trouble with that small picture, then I have a better one here. Let's keep it just in case this one gets really too cluttered. It really represents the same thing. OK, so let's try to figure out these vectors u and v. So, the vector u starts at the point x, y, f of x, y. And it goes to, where is its head? Well, I'll have moved x by delta x. So, x plus delta x. y doesn't change. And, of course, the z coordinate has to change. It becomes f of x plus delta x and y. Now, how does f change if I change x a little bit? Well, we've seen that it's given by the partial derivative f sub x. So, this is approximately equal to f of x, y plus delta x times f sub x at the given point x, y. I'm not going to add it because notation is already long enough. So, that means my vector u is, well, approximately, because I'm using this linear approximation, delta x, zero, and f sub x times delta x. OK, is that OK with everyone? Good. Now, what about v? Well, v works the same way. OK, so I'm not going to do all the details. When I move from here to here, well, x doesn't change, and y changes by delta y. So, x component, nothing happens. y component changes by delta y. What about the z component? Well, f changes by f sub y times delta y. That's how f changes if I increase y by delta y. OK, so I have my two sides. Now, I can take the cross product. Well, maybe I will first, sorry, factor something out. See, I can rewrite this as one zero f sub x times delta x. And, this one I will rewrite as zero one f sub y delta y. And so, now the cross product, so n hat delta s up to sine is going to be u cross v. u cross v, well, so we'll have to do the cross product, and we'll have a delta x delta y coming out. OK, I'm just saving myself the trouble of writing a lot of delta x and delta y's. But, if you prefer, you can just do directly this cross product there. OK, so let's compute this cross product. Well, the i component is zero minus f sub x. The y component is going to be, well, f sub y minus zero, but with a minus sign in front of everything, so negative f sub y. And, the z component will be just one times delta x delta y. OK, does that make sense for, yes, very good. And so, now, when we just take, we shrink this rectangle, we shrink delta x and delta y down, so that's how we get this formula for n ds equals negative fx negative fy one dx dy. Well, plus minus because it's up to us to choose whether we want to take the normal vector pointing up or down. So, see, if you take this convention, then the z component of n ds is positive. So, that corresponds to normal vector pointing up. If you take the opposite means, then the z component will be negative. That means your normal vector points down. OK, so this one is with n pointing up. I mean, when I say up, of course, it's still perpendicular to the surface. You know, if the surface really has a big slope, then it's not really going to go all that much up, but more up than down. OK, so that's how we get that formula. Any questions? No? OK, so that's a really useful formula. So, you don't really need to remember all the details of how we got it, but please remember that formula. Let's do an example, actually. So, let's say I want to find the flux of the vector field z times k. So, it's a vertical vector point of the paraboloid z equals x squared plus y squared that lives above the unit disk. OK, so what does that mean? z equals x squared plus y squared, well, we've seen it many times. OK, it's this paraboloid above the unit disk means I only care about, I don't care about this infinite surface. I will actually stop when I hit a radius of one away from the z axis. And, so now I have my vector field, which is going to point overall up because, in fact, I'm at z times k. So, the more z is positive, the more your vector field goes up. Of course, if z were negative, then it would point down, but we live above. So, actually, a quick opinion poll. What do you think the flux should be? Should it be positive, zero, negative? We don't know. OK, so I see some I don't know. I see some negative, and I see some positive. So, of course, I didn't tell you which way I'm orienting my paraboloid. So, so far, both answers are correct. The only one that's probably not correct is zero because no matter which way you choose to orient it, you should get something. It's not looking like it will be zero. So, let's say that I'm going to do it with a normal pointing upwards. Second chance. OK, I see some people changing back and forth between one and two. OK, so let's draw a picture. Which one is pointing upwards? Well, let's look at the bottom point, the normal vector pointing up. Here, we know what it means. It's this guy. And so, if you continue to follow your normal vector, see, they're actually pointing up and into the paraboloid. OK, and I claim that the answer should be positive because the vector field is crossing our paraboloid going upwards, going from the outside out and below to the inside and up side, so in the direction that we are counting positively. Well, we'll see how it turns out when we do the calculation. OK, so we have to compute the integral for flux. The one integral of a surface of F dot n dS is going to be, OK, so what are we going to do? Well, F, we said, is 0, 0, z. What is n dS? Well, let's use our brand new formula. So, it says negative F sub x, negative F sub y, one dx dy. What is little f in here? It's x squared plus y squared, OK? So, when we're using this formula, we need to know what little f stands for is whatever the formula is for z as a function of x and y. So, we take x squared plus y squared, and we take the partial derivatives with minus signs. We get negative 2x, negative 2y, and one dx dy. Well, of course, here it didn't really matter because we're going to dot them with zero. So, actually, even if we had made a mistake, we somehow wouldn't have had to pay the price, still. OK, so we'll end up with double integral on S of z dx dy. Now, what do we do with that? Well, we have too many things. We need to get rid of z. So, let's use z equals x squared plus y squared once more. OK, so that becomes double integral of x squared plus y squared dx dy. And here, see, we're using the fact that we're only looking at things that are on the surface. It's not like in a triple integral, you could never do that because z, x, and y are independent. Here, they're related by the equation of a surface. Sorry if I sound like I'm ranting, but I know from experience this is where one of the most sticky and tricky points is, actually. OK, so now, how will we actually integrate that? Well, now that we have just x and y, we should figure out what's the range for x and y? Well, the range for x and y is going to be the shadow of our region. It's going to be this unit disk. OK, so let me just do that for now. And see here, this is finally where I've left the world of surface integrals to go back to a usual double integral. And now, I have to set it up. Well, I can do it this way with dx dy, but it looks like there's a smarter thing to do. OK, I'm going to use, actually, polar coordinates. So, in fact, I'm going to say this is a double integral of r squared times r dr d theta. I'm on the unit disk, so r goes zero to one, theta goes zero to two pi. And, if you do the calculation, you'll find that this is going to be pi over two. OK, any questions about the example? Yes? OK, how do I get this negative 2x and negative 2y? So, I want to use my formula for n ds. OK, my surface is given by the graph of a function. It's the graph of a function x squared plus y squared. So, I will use this formula that's up here. I will take the function x squared plus y squared, and I will take its partial derivatives. So, if I take the partial of f, so, f x squared plus y squared with respect to x, I get 2x. So, I put negative 2x, and then same thing, negative 2y, one dx dy, yes? Which k hat? Oh, you mean the vector field? Well, so it's a different part of the story, OK? So, whenever you do a surface integral for flux, you have two parts of the story. One is the vector field whose flux you're taking. The other one is the surface for which you will be taking flux. So, the vector field only comes as this f in the notation. And, everything else, the bounds of the double integral and the n ds, they all come from the surface that we are looking at. OK, so basically, in all of this calculation, this is coming from f equals zk. Everything else comes from the information paraboloid z equals x squared plus y squared above the disk. OK, so in particular, if we wanted to now find the flux of any other vector field for the same paraboloid, well, all we have to do is just replace this guy by whatever the new vector field is. We've learned how to set up flux integrals for this paraboloid. Not that you should remember this one by heart. I mean, there's many paraboloids in life and other surfaces, too, so it's better to remember the general method. OK, any other questions? No? OK, let's see more ways of tackling flux integrals. But, just to reassure you, at this point, we've seen the most important ones. You know, 90% of the problems that we'll be looking at, we can do with what we've seen so far last time and this time. But, let's look a little bit at a more general situation. Let's say that my surface is so complicated that I can't actually express z as a function of x and y. But, let's say that actually I know how to parametrize it. So, I have a parametric equation for my surface. That means I can express x, y, z in terms of any two parameter variables that might be relevant for me. So, if you want, this one here is the special case where you can parametrize things in terms of x and y as your two variables. So, how would you do it in the fully general case? In a way, that will answer your question. I think one of you, I forgot, asked yesterday, how would I do it in general? Is there a formula like m dx plus n dy? Well, that's going to be the formula. And, you'll see it's a little bit too complicated. So, the really useful ones are actually the special ones. So, let's say that we are given a parametric description of a surface S. So, that means we can describe S by formulas saying x is some function of two parameter variables. I'm going to call them u and v. I hope you don't mind. You can call them t1 and t2. You can call them whatever you want. OK, so one of the basic properties of a surface is because I have only two independent directions to move on, I should be able to express x, y, and z in terms of two variables. So, now let's say that I know how to do that. Or, maybe I should instead think of it in terms of a position vector if that helps you. The position vector, so that's just the vector with components x, y, z is given as a function of u and v. OK, so it works like a parametric curve, but with two parameters. So, now, how will we actually set up a flux integral on such a surface? Well, because we are locating the flux in terms of u and v, we will end up with an integral du dv. So, we need to figure out how to express n ds in terms of du and dv. OK, so n ds should be something du dv. How do we do that? Well, we can use the same method that we've actually used over here. Because if you think for a second, here we used, of course, a rectangle in the x, y plane, and we lifted it to a parallelogram and so on. But, more generally, you can think, what happens if I change u by delta u, keeping v constant, or the other way around? You will get some sort of mesh grid on your surface, and you will look at a little parallelogram that's an elementary piece of that mesh and figure out what is its area and normal vector. Well, that will again be given by the cross product of the two sides. OK, so let's think a little bit about what happens when I move a little bit on my surface. So, I'm taking a grid on my surface given by the u and v directions. And, if I take a piece of that corresponding to small changes, delta u and delta v, what's going to be going on here? Well, I have to deal with two vectors, one corresponding to changing u, the other one corresponding to changing v. If I change u, how does my point change? Well, that's given by the derivative of this with respect to u. OK, so this vector here I will call, so the sides are given by, let me say, partial r over partial u times delta u. And, if you prefer, maybe I should write it as partial x over partial u delta u partial y. Well, it's just too boring to write, and so on. OK, it means just, you know, if I change u a little bit, keep v constant, then how x changes is given by partial x over partial u times delta u. Same thing with y, same thing with z. And, I'm just using vector notation to do it this way. That's the analog of when I said delta r for line integrals along a curve, vector delta r is the velocity vector dr over dt times delta t. OK, now if I look at the other side, OK, so, sorry, so let me start again. I ran out of space. One side is partial r partial u times delta u, and the other one would be partial r partial v times delta v because that's how the position of your point changes if you just change u or v and not the other one. So, now, to find the surface element together with a normal vector, I would just take the cross product between these guys. So, if you prefer, that's the cross product of partial r partial u with partial r partial v delta u delta v. And so, N dS is this cross product times du dv up to sine. I mean, also here. Depends on which choice I make for my normal vector, of course. OK, now, if you, that, of course, is a slightly confusing equation to think of. So, a good exercise, if you want to really understand what's going on, try this in two good examples to look at. One good example to look at is the previous one. What is it? It's when u and v are just x and y. OK, so the parametric equations are just x equals x, y equals y, and z is f of x, y. You should end up with the same formula that we had over there. And, you should see why because, see, both of them are given by a cross product. The other case you can look at, just to convince yourselves that it's true, so we don't need to do that because we've seen the formula before. But, in the case of a sphere, we've seen the formula for N and for dS separately. So, we know what N dS are in terms of d phi d theta. Well, you could parametrize a sphere in terms of phi and theta. Namely, the formulas would be x equals a sine phi cosine theta, y equals a sine phi sine theta, z equals a cosine phi. The formulas for spherical coordinates setting rho equals a. So, that's a parametric equation for the sphere. And then, if you try to use this formula here, you should end up with the same things we've already seen for N dS, just with a lot more pain to actually get there because your cross product is going to be a bit complicated. But, we're seeing all of these formulas, they all fit together. Somehow, it's always the same question, just we have different angles of attack on this general problem. OK, questions? No? OK, let's look at yet another last way of finding N dS. And then, I promise we'll switch to something else because I can feel that you're getting a bit overwhelmed by all these formulas for N dS. So, OK, so what happens very often is we don't actually know how to parametrize our surface. Maybe we don't know how to solve for z as a function of x and y, but our surface is given by some equation. And so, what that means is actually maybe what we know is not really these kinds of formulas, but maybe we know a normal vector. And, I'm going to call this one capital N because I don't even need it to be a unit vector, you will see. It can be a normal vector of the surface S. So, why would we ever know a normal vector? Well, for example, if our surface is a plane, say it's a slanted plane given by some equation, Ax plus By plus Cz equals D. Well, you know the normal vector. It's A, B, C. Of course, you could solve for z and then go back to that case, which is why I said that that one is really useful. But, you can also just stay with a normal vector. Why else would you know a normal vector? Well, let's say that you know an equation that's of a form g of x, y, z equals zero. Well, then you know that the gradient of g is perpendicular to the level surface. OK, so let me just give you two examples. If you have a plane, Ax plus By plus Cz equals D, then the normal vector would just be A, B, C. If you have a surface S given by an equation, g of x, y, z equals zero, then you can take the normal vector to be the gradient of g. We've seen that the gradient is perpendicular to the level surface. Now, of course, we don't necessarily have to follow what's going to come because if we could solve for z then we might be better off doing what we did over there. But, let's say that we want to do it this way. So, then what can we do? Well, I'm going to give you a little bit of information about NDS. So, OK, so let's start by thinking about a slanted plane. OK, so let's say that my surface is just a slanted plane. So, my normal vector would be maybe somewhere here. And, let's say that I'm going to try, you know, I need, of course, some handle on how to set up my integral. So, maybe I'm going to express this in terms of x and y. OK, so I have my coordinates, and I'll try to use x and y. So, then I would like to relate delta s, ds, to the area in the xy plane. So, that means, you know, I want maybe to look at the projection of this guy onto a horizontal plane. Let's squish it horizontally. So, then you have here another area. OK, so the guy on the slanted plane, let's call that delta s, and let's call this guy down here delta a. So, the question, and, you know, delta a would become ultimately maybe delta x, delta y, or something like that. The question is, how do we find the conversion rate between these two areas? See, I mean, they're not the same. Visually, I hope it's clear to you that if my plane is actually horizontal, then, of course, they're the same. But, the more slanted it becomes, the more delta a becomes smaller than delta s, right? I mean, if you buy, you know, if you buy land, and it's on the side of a cliff, well, whether you look at it on a map, or whether you look at it on the actual cliff, the area is going to be very different. I'm not sure if that's a wise thing to do if you want to build a house there, but I've been told you can get really cheap land. OK, so anyway, OK, so delta s versus delta a depends on how slanted things are. And, let's try to make that more precise by looking at the angle that our plane makes with the horizontal direction. OK, so let's call this angle alpha, the angle that our plane makes with the horizontal direction. See, it's all coming together now. The first unit about cross products, normal vectors, and so on is actually useful now. So, I claim that the surface element is related to the area in the plane by delta a equals delta s times the cosine of alpha. Why is that? Well, let's look at this small rectangle with one horizontal side and one slanted side. Well, when you project, this side doesn't change. But, this side gets shortened by a factor of cosine alpha. Whatever this length was, this length here is that one times cosine alpha. So, that's why the area gets shrunk by cosine alpha. In one direction, nothing happens. In the other direction, you squish by cosine alpha. So, what that means is that, well, OK, so we'll have to deal with this. And, of course, the one we'll care about actually is delta s expressed in terms of delta a. But, what are we going to do with this cosine? It's not very convenient to have a cosine left in here. So, remember, the angle between two planes, it's the same thing as the angle between the normal vectors. So, if you want to see this angle alpha elsewhere, what you can do is you can just take the vertical direction. Let's take k. Then, here we have our angle alpha again. So, in particular, cosine of alpha, I can get, well, we know how to find the angle between two vectors. So, if we have our normal vector n, we'll do n dot k, and we'll divide by length n length k. Well, length k is one. That's one easy. OK, so that's how we find the angle. So, now I'm going to say, well, delta s is going to be one over cosine alpha delta a. And, I can rewrite that as length of n divided by n dot k times delta a. Now, let's multiply that by the unit normal vector because what I'm multiplying by is not dS, but actually n dS. So, n delta s will be, I'm just going to multiply by n. Well, let's think for a second. What happens if I take the unit normal n, and I multiply it by the length of my other normal big N? Well, I get big N again, right? This is a normal vector of the same length as n, well, up to sine. But, actually, maybe I should. The only thing I don't know is whether this guy will be going in the same direction as big N or in the opposite direction. Say that, for example, my capital N has length, I don't know, length three, for example. The unit normal vector might be this guy, in which case, indeed, three times little n will be big N. Or, it might be this one, in which case, three times little n will be negative big N. But, up to sine, it's N. And then, I will have N over n dot k delta a. And so, the final formula, the one that actually we care about in case you don't really like my explanations of how we get there, is that N dS is plus or minus N over N dot k dx dy. That one is actually kind of useful, so let's box it. Now, just in case you are wondering, of course, if you didn't want to project to x, y, you would have maybe preferred to project to, say, the plane of a blackboard, yz. Well, you can do the same thing. To express N dS in terms of dy dz, you do the same argument. And simply, the only thing that changes is instead of using the vertical vector k, you use the normal vector i. So, you would be doing N over N dot i dy dz, and same thing. Just keep an open mind that this also works with other variables. But anyway, so that's how you can basically project the vector surface area element onto the x, y plane in a way. OK, so let's look at the special case just to see how this fits with stuff we've seen before. Let's do a special example where our surface is given by the equation z minus f of x, y equals zero. OK, that's a strange way to write the equation z equals f of x, y that we saw before. But now, it looks like, well, some function of x, y, z equals zero. So, let's try to use this new method. So, let's call this guy g of x, y, z. Well, so now let's look at the normal vector. The normal vector would be the gradient of g, we said. What's the gradient of this function? So, gradient of g, well, partial g, partial x, that's just negative partial f, partial x. Gradient g, sorry, the y component, partial g, partial y is going to be negative f sub y. And, g sub z is just one. So now, if you take n over n dot k dx dy, well, it looks like that's going to be negative f sub x, negative f sub y, one divided by, well, what's n dot k? If you do that with k, you'll get just one. So, I'm not going to write it, dx dy. See, that's, again, our favorite formula. So, this one is actually more general because you don't need to solve for z. But, if you can solve for z, then it's the same as before. OK, I think that's enough formulas for n dS. So, after spending a lot of time telling you how to compute surface integrals, now I'm going to try to tell you how to avoid computing them. And, that is called the divergence theorem. And, we'll see the proof and everything and applications on Tuesday, but I want to at least state the theorem and see how it works in one example. It's also known as the Gauss grain theorem, or just the Gauss theorem depending on who you talk to. So, the grain here is the same grain as in Green's theorem, OK, because somehow that's a space version of Green's theorem. So, what does it say? It says, so, this is the analog of grain for flux. What it says is if S is a closed surface, OK, so remember, it's the same as with Green's theorem, we need to have something that's completely enclosed. So, you have a surface, and there's somehow no gaps in it. There's no boundary to it. It's really completely enclosed. So, I'm choosing a region in space that I will call D. And, I need to choose my orientation. So, the orientation that will be chosen in this theorem is choosing the normal vector to point outwards. OK, so, n needs to be outwards. So, that's one part of the puzzle. The other part is a vector field. I need to have a vector field that is defined and differentiable everywhere in D. So, same restrictions as usual. Then, I don't have, actually, to compute the flux integral. The integral of F dot n dS of a closed surface S. I need to put a circle just to remind you it's got to be a closed surface. That's just notation to remind us, closed surface. I can replace that by the triple integral of the region inside of divergence of F dV. Now, I need to tell you what's the divergence of a 3D vector field. Well, you'll see it's not much of a difference. In the 2D case, what you do is just, so, say that your vector field has components P, Q, and R. Then, you will take P sub x plus Q sub y plus R sub z. OK, so that's the definition. It's pretty easy to remember. You take the x component partial respect to x plus partial respect to y of the y component plus partial respect to z of the z component. OK, so, for example, last time we saw that the flux of the vector field zk for a sphere of radius a was four-thirds pi a cubed by computing the surface integral. Well, if we do it more efficiently now by Green's theorem, so we're going to use Green's theorem for this sphere. Because we're doing the whole sphere, it's fine. It's a closed surface. We couldn't do it for, say, a hemisphere or something like that. We need to, well, I mean, for the hemisphere, we'd need to add maybe the flat face at the bottom or something like that. So, Green's theorem says that our flux integral can be actually replaced by the triple integral of a solid ball of radius a of the divergence of zk dv. But now, what's the divergence of this field? Well, so you have zero, zero, z. So, you get zero plus zero plus one. It looks like it will be one. So, if you do the triple integral of one dv, you will get just the volume of the region inside, which is four-thirds pi a cubed. And, so it was no accident. In fact, before that, we looked at also xi yj zk, and we found three times the volume. That's because the divergence of that field was actually three. So, very quickly, let me just say what this means physically. Physically, see, this guy on the left is the total amount of stuff that goes out of the region per unit time. So, I want to figure out how much stuff comes out of there. What does the divergence mean? The divergence means, well, it measures how much the flow is expanding things. It measures how much, I say probably when we understood 2D divergence, it measures the amount of sources or sinks that you have inside your fluid. So, now it becomes common sense. If you take a region of space, the total amount of water that flows out of it is the total amount of sources that you have in there minus the sinks. In spite of this common sense explanation, we are going to see actually how to prove this, and we'll see how it works and the hypothesis.